<!doctype html>
<html>
<title>Flaskr</title>
<link rel=stylesheet type=text/css href="style.css">
<script src="js/jquery.js"></script>
<script src="js/mustache.js"></script>
<script src="js/sammy.js"></script>    
    
<script src="js/class.js"></script>
<script src="js/mine.js"></script>
<script src="js/views.js"></script>
    
<script type="text/javascript" charset="utf-8">
        
    var app = $.sammy(function() {

        this.get('#/', function() {            
            view.render_from(EntryViews, "index");            
        });

        this.post('#/', function() {            
            view.render_from(EntryViews, "post", {data: this.params});
            this.redirect('#/');
        });

        this.get('#/:id', function() {            
             view.render_from(EntryViews, "get", {id: this.params['id']});            
        });

        this.get('#/:id/edit', function() { 
            view.render_from(EntryViews, "get_edit_form", {id: this.params['id']});
        });

        this.put('#/:id/edit', function() { 
            console.log("sammy " + JSON.stringify(this.params));
            view.render_from(EntryViews, "put", {id: this.params['id'], data: this.params});
            this.redirect('#/');            
        });

        this.get('#/:id/delete', function() { 
            view.render_from(EntryViews, "delete", {id: this.params['id']});
            this.redirect('#/');
        });

    });

    $(function() {
        app.run()
    });

</script>

<body>
    
    <div class=page>
        
        <h1>Flaskr</h1>

        <div id="content">
        </div>
    </div>

</body>
</html>